package cadastro;

import javax.swing.JFrame;
import javax.swing.JButton;
import javax.swing.JLabel;
import javax.swing.JScrollPane;
import javax.swing.JComboBox;
import javax.swing.JTextArea;
import javax.swing.JTextField;
import javax.swing.JOptionPane;

/**
 *
 * @author Lucas
 */

public class Cadastra extends JFrame {

    private final int id = 0;
    
    private JButton btCadastrar;
    private JButton btLimpar;
    private JLabel lbNome;
    private JLabel lbEmpresa;
    private JLabel lbTipo;
    private JLabel lbNota;
    private JLabel lbComentario;
    private JScrollPane scrollComent;
    private JComboBox cbNota;
    private JTextArea tfComentario;
    private JTextField tfEmpresa;
    private JTextField tfTipo;
    private JTextField tfNome;
    
    public Cadastra() {
        initComponents();
    }

    private void initComponents() {
        
        lbNome = new JLabel();
        tfNome = new JTextField();
        lbEmpresa = new JLabel();
        tfEmpresa = new JTextField();
        lbTipo = new JLabel();
        tfTipo = new JTextField();
        lbNota = new JLabel();
        lbComentario = new JLabel();
        scrollComent = new JScrollPane();
        tfComentario = new JTextArea();
        cbNota = new JComboBox();
        btCadastrar = new JButton();
        btLimpar = new JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("Cadastrar");
        setBounds(new java.awt.Rectangle(300, 150, 0, 0));
        
        setResizable(false);
        addWindowListener(new java.awt.event.WindowAdapter() {
            
            @Override
            public void windowClosing(java.awt.event.WindowEvent evt) {
                windowClose(evt);
            }
        });

        lbNome.setText("Nome da Cerveja");
        lbEmpresa.setText("Empresa");

        tfEmpresa.addActionListener(new java.awt.event.ActionListener() {
            @Override
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtnaActionPerformed(evt);
            }
        });

        lbTipo.setText("Tipo");
        lbNota.setText("Nota");
        lbComentario.setText("Comentário");

        tfComentario.setColumns(20);
        tfComentario.setRows(5);
        scrollComent.setViewportView(tfComentario);

        cbNota.setModel(new javax.swing.DefaultComboBoxModel(new String[]{"1", "2", "3", "4", "5"}));
        cbNota.addActionListener(new java.awt.event.ActionListener() {
            @Override
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                notaActionPerformed(evt);
            }
        });

        btCadastrar.setText("Cadastrar");
        btCadastrar.addActionListener(new java.awt.event.ActionListener() {
            @Override
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        btLimpar.setText("Limpar");
        btLimpar.addActionListener(new java.awt.event.ActionListener() {
            @Override
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(layout.createSequentialGroup()
                                .addContainerGap()
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addGroup(layout.createSequentialGroup()
                                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).
                                                        addGroup(layout.createSequentialGroup()
                                                                .addComponent(lbNome)
                                                                .addGap(18, 18, 18)
                                                                .addComponent(tfNome, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE))
                                                        .addGroup(layout.createSequentialGroup()
                                                                .addComponent(lbTipo)
                                                                .addGap(18, 18, 18)
                                                                .addComponent(tfTipo, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                                .addGap(79, 79, 79)
                                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                        .addGroup(layout.createSequentialGroup()
                                                                .addComponent(lbNota)
                                                                .addGap(18, 18, 18)
                                                                .addComponent(cbNota, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                                .addGap(173, 173, 173))
                                                        .addGroup(layout.createSequentialGroup()
                                                                .addComponent(lbEmpresa)
                                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                                                .addComponent(tfEmpresa, javax.swing.GroupLayout.DEFAULT_SIZE, 149, Short.MAX_VALUE)
                                                                .addContainerGap())))
                                        .addGroup(layout.createSequentialGroup()
                                                .addComponent(lbComentario)
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addComponent(scrollComent)
                                                .addGap(18, 18, 18)
                                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                        .addComponent(btLimpar)
                                                        .addComponent(btCadastrar))
                                                .addGap(82, 82, 82)))));
        layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[]{btCadastrar, btLimpar});
        layout.setVerticalGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(lbNome)
                                .addComponent(tfNome, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(lbEmpresa)
                                .addComponent(tfEmpresa, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(26, 26, 26)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(lbTipo)
                                .addComponent(tfTipo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(lbNota)
                                .addComponent(cbNota, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(30, 30, 30)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(lbComentario)
                                .addGroup(layout.createSequentialGroup()
                                        .addGap(25, 25, 25)
                                        .addComponent(btCadastrar)
                                        .addGap(30, 30, 30)
                                        .addComponent(btLimpar))
                                .addComponent(scrollComent, javax.swing.GroupLayout.PREFERRED_SIZE, 125, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addContainerGap(150, Short.MAX_VALUE)));
        pack();
    }

    private void notaActionPerformed(java.awt.event.ActionEvent evt) {
        //
    }

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) { // Apaga os caracteres escritos                                     
        tfNome.setText("");
        tfEmpresa.setText("");
        tfTipo.setText("");
        tfComentario.setText("");
        cbNota.setSelectedIndex(0);
    }

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) { // Gravar os dados cadastrados
        
        String nome = tfNome.getText();
        String nomeEmpresa = tfEmpresa.getText();
        String tipo = tfTipo.getText();
        String comentario = tfComentario.getText();
        int selecionado = cbNota.getSelectedIndex();
        String Snota = Integer.toString(selecionado + 1);
        
        if (nome == null || nome.trim().equals("")) { // Se o nome for null ou o nome, retirando os espaços em branco, for igual a ""
            JOptionPane.showMessageDialog(this, "Não foi possível adicionar. Forneça o nome da Cerveja!", "Erro", JOptionPane.ERROR_MESSAGE);
        } else {
            boolean temCerveja = Acervo.getInstance().temCerveja(nome);
            if (temCerveja) {
        	JOptionPane.showMessageDialog(this, "Não foi possível adicionar. Cerveja com mesmo nome já cadastrado!", "Aviso", JOptionPane.WARNING_MESSAGE);
            } else {
	        CervejaAtual cerveja = new CervejaAtual(nome ,nomeEmpresa,tipo , comentario, Snota);
	        Acervo acervo = Acervo.getInstance();
	        acervo.addCerveja(cerveja);
	        
	        JOptionPane.showMessageDialog(this, "Adicionado com sucesso!", "Informação", JOptionPane.INFORMATION_MESSAGE);
	        this.dispose();
            }
        }	
    }

    private void txtnaActionPerformed(java.awt.event.ActionEvent evt) {
        
    }

    private void windowClose(java.awt.event.WindowEvent evt) {
        
    }

}
